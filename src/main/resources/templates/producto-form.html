<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title th:text="${producto.idProducto == null} ? 'Nuevo Producto' : 'Editar Producto'">
        Formulario Producto
    </title>
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" th:href="@{/css/estilos.css}">
</head>
<body class="bg-light">

<div class="container mt-4">

    <h1 th:text="${producto.idProducto == null} ? 'Nuevo Producto' : 'Editar Producto'">
        Producto
    </h1>

    <form th:action="@{/vista/productos/guardar}" th:object="${producto}" method="post" class="mt-3">

        <input type="hidden" th:field="*{idProducto}"/>

        <div class="mb-3">
            <label class="form-label">Nombre del producto</label>
            <input type="text" class="form-control" th:field="*{nombreProducto}" required/>
        </div>

        <div class="mb-3">
            <label class="form-label">Precio de compra</label>
            <input type="number" step="0.01" class="form-control" th:field="*{precioCompra}" required/>
        </div>

        <div class="mb-3">
            <label class="form-label">Precio de venta</label>
            <input type="number" step="0.01" class="form-control" th:field="*{precioVenta}" required/>
        </div>

        <div class="mb-3">
            <label class="form-label">Unidad de medida</label>
            <input type="text" class="form-control" th:field="*{unidadMedida}" required/>
        </div>

        <div class="mb-3">
            <label class="form-label">Estado</label>
            <input type="number" class="form-control" th:field="*{estado}" placeholder="1 = activo, 0 = inactivo"/>
        </div>

        <div class="mb-3">
            <label class="form-label">Categoría</label>
            <select class="form-select" th:field="*{categoria}" required>
                <option value="">Seleccione una opción</option>
                <option th:each="cat : ${listaCategorias}"
                        th:value="${cat.idCategoria}"
                        th:text="${cat.nombreCategoria}">
                </option>
            </select>
        </div>

        <button type="submit" class="btn btn-success">Guardar</button>
        <a th:href="@{/vista/productos}" class="btn btn-secondary">Cancelar</a>
    </form>

</div>

</body>
</html>